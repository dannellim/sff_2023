<h2>Global Agenda</h2>

<div class="container">
    <div class="row dropdown">
        <div class="column dropdown-btn">
            <select id="entityOption" class="form-select" (change)="onEntityChange($any($event))">
                <option value="">All entities</option>
                <option *ngFor="let entity of entities" [value]="entity.id">{{entity.name}}</option>
            </select>
        </div>
        <div class="column dropdown-btn">
            <select id="dateOption" class="form-select" (change)="onDateChange($any($event))">
                <option value="">All dates</option>
                <option *ngFor="let date of datesDropdown"
                    [value]="date.getDate() + '/' + (date.getMonth() + 1)+ '/' + date.getFullYear()">{{
                    date.getDate()
                    + " " +
                    monthAsString(date.getMonth())
                    + " " +
                    date.getFullYear()
                    }}</option>
            </select>
        </div>
        <div class="column dropdown-btn">
            <select id="timeOption" class="form-select" (change)="onTimeChange($any($event))">
                <option value="">All times</option>
                <option *ngFor="let time of times" [value]="time">{{time}}</option>
            </select>
        </div>
    </div>
</div>
<ul class="list-group">
    <li class="list-group-item" *ngFor="let event of events">
        <div>
            <div class="row" style="padding-top: 8px;">
                <div class="col-auto" style="padding-right: 0 !important;">
                    <time [dateTime]="dates[events.indexOf(event)]!" class="icon">
                        <em>{{dayOfWeekAsString(dates[events.indexOf(event)].getDay())}}</em>
                        <strong>{{monthAsString(dates[events.indexOf(event)].getMonth())}}</strong>
                        <span>{{dates[events.indexOf(event)].getDate()}}</span>
                    </time>
                </div>
                <div class="col-auto" style="padding-right: 0 !important;">
                    <strong>{{event.name}}</strong>
                    <p><b>{{event.date}} {{shortDayOfWeekAsString(dates[events.indexOf(event)].getDay())}}
                            {{event.time}}</b></p>
                </div>
            </div>
            <p>{{event.summary}}</p>
            <div class="row">
                <div class="col left">
                    <a routerLink="/event/{{event.id}}"><small>View details</small></a>
                </div>
                <div class="col right">
                    <button (click)="register(event.id)" class="btn btn-success btn-sm">Register</button>
                </div>
            </div>
        </div>
    </li>
</ul>